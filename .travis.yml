sudo: required
language: java
install: true
jdk:
  - oraclejdk8

#required for launch4j to run
before_script:
  - sudo apt-get update
  - sudo apt-get install libc6:i386 libstdc++6:i386

script:
  - mvn install -X
  - mvn clean package

after_success:
  - mvn test jacoco:report coveralls:report

deploy:
  - provider: releases
    api_key:
      secure: "KuS9eQxSmTiokJTvQWGuLhoJHnG9SePtYMvE5Ha6FD5FToeSa4YprwrVGaXlXTLtdizArJNJ9/Sks8kJ6i2AaNHiOarwrZv/xal/Vy1X8hAufapnkPdKqp/VtMLEEhZGGOYO/dGU/J3p1xkR4wG5cpftqIHOqwG/V7TfGmpqtE/zhJOtilM5oCOZel0XaKx5+xe7X+ENnGHUNBbUEaI5AyidBHfa6D8VSaRb4GJs08+EhNoKuEnzvdG+n71IT0e1nnlDDJ+MaEdAsx7ZoiMTcCrEmIgc8Z1HJVYL1Ks8l3avkGxEXdLaQ+UBLMXBmyaWMyUf+tXtUkVDT0A2KW6LUEmRAmcCChfyRvfgKFr53Xibfi/2CaQvBQT7rhATko324ecaKCJ+RAdFzIMiXRzfizLzIooMMurPEj17sVHobSAI/PV+hXb9XUUoc0nTtb9grwq2Sa9CVAnEsTzY9AxFDV7WdtTPUqTkKvh1jPGfa95yRumrPIWpSBjvh2dSa+mFBeABoFW0B5B0BmWFMfTleeqarXmBhPayWYWW6RIsXo+G2ms0w2ieHKg3MsLyQ4NhGL3kUhsP2FZ45OmpQTDBy8TCNqoij691berbcRM1mSFdshl0pbEp7r/XyxOxuht9RF/vc0ujS+hfCUyEFJiZXif3YrMTu+N9+PkBqkCppxc="
    file_glob: true
    file:
      - "target/dice-*.jar"
      - "target/dice.exe"
    skip_cleanup: true
    on:
      branch: master
      tags: true

notifications:
  slack:
    secure: "JmwmQBc8z4tuFzQl2pduV8JACIuoxWJfYuy9RGKuvnoDLgXwyNs67+UeXO++PiFwMaiKaDXMVX3yb760wgJpeXkqwCCMM8wTgGTLZGUgcsHZQ+y3FES+L4CTd0s5jQXyuKVFCVlAMfMIOCxAmbXxLxHFe9mybzEESLz2uoXOLGvADmsi8Dj/RgCNEzZMN33yJgX1sXDbY/s1s7gxtcfurXXEz9ZbEbxGKm+nr8V1vkgYnHuEEoPzNAnadvEMBxj84VrSFjQAZWYSJ6wR4fH/DHmaEU8aneQoTPgrrFxSg9SIyAE0ehvqrjRk5fz9eKH5vdJ9TomHsC0OTuM3ct5tfG3pm7EGbpt1u4i2Oe/huStIbEoWVevIg6cJ/xXouAMbEQUWeXNfQ5rZyeGfYE1AHK6OgQFPRi00k9A5wGkCV1B+WuUh0KqVBMF3HOSR5rpktuLO6NHqrCZC/qO0SdZJaA+hXlLr+XbjBI1rxqyr2eLJms6xFzpkeeOiVvvTTAfpIFejz+TT5rhEUgvk7hHF2uiZnkTjzyuKJSciTUjDdWjoEQjvXFsYohroGOWgOpiwNt1EeUGBwKatAOJ3aDLe5sRz3PGlPaDIL9P43peQ0hOEjm0EKLbUgTvhBlDGtLzzO+dZIe66jQP10lusdHqmiy18WzD8+cK7u6MH46wR0pA="
  email: false